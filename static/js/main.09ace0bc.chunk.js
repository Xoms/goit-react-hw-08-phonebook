(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{100:function(t,e,n){"use strict";n.r(e);var c,r,a,o,u,s=n(1),i=n(0),l=n(26),b=n.n(l),d=n(16),j=n(18),O=n(28),f=n(2),g=n(39),h=n(57),p=n.n(h),v=n(17),C=n(3),m=n(6),x=Object(f.c)(!1,(c={},Object(C.a)(c,m.a.getContactsRequest,(function(){return!0})),Object(C.a)(c,m.a.getContactsSuccess,(function(){return!1})),Object(C.a)(c,m.a.getContactsError,(function(){return!1})),Object(C.a)(c,m.a.addContactRequest,(function(){return!0})),Object(C.a)(c,m.a.addContactSuccess,(function(){return!1})),Object(C.a)(c,m.a.addContactError,(function(){return!1})),Object(C.a)(c,m.a.delContactRequest,(function(){return!0})),Object(C.a)(c,m.a.delContactSuccess,(function(){return!1})),Object(C.a)(c,m.a.delContactError,(function(){return!1})),c)),k={recordReducer:Object(f.c)([],(r={},Object(C.a)(r,m.a.getContactsSuccess,(function(t,e){return e.payload})),Object(C.a)(r,m.a.addContactSuccess,(function(t,e){return[].concat(Object(O.a)(t),[e.payload])})),Object(C.a)(r,m.a.delContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),r)),loadingReducer:x},y=n(54),S=Object(f.c)("",Object(C.a)({},y.a.filterChange,(function(t,e){return e.payload}))),E=Object(v.b)({items:k.recordReducer,filter:S,isLoading:k.loadingReducer}),R=n(5),q={name:null,email:null},N=Object(f.c)(q,(a={},Object(C.a)(a,R.a.registerSuccess,(function(t,e){return e.payload.user})),Object(C.a)(a,R.a.loginSuccess,(function(t,e){return e.payload.user})),Object(C.a)(a,R.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(C.a)(a,R.a.logoutSuccess,(function(){return q})),a)),U=Object(f.c)(null,(o={},Object(C.a)(o,R.a.registerSuccess,(function(t,e){return e.payload.token})),Object(C.a)(o,R.a.loginSuccess,(function(t,e){return e.payload.token})),Object(C.a)(o,R.a.logoutSuccess,(function(){return null})),o)),w=Object(f.c)(null,(u={},Object(C.a)(u,R.a.registerError,(function(t,e){return e.payload.error})),Object(C.a)(u,R.a.loginError,(function(t,e){return e.payload.error})),Object(C.a)(u,R.a.getCurrentUserError,(function(t,e){return e.payload.error})),Object(C.a)(u,R.a.logoutError,(function(t,e){return e.payload.error})),u)),z=Object(v.b)({user:N,token:U,error:w}),T=Object(f.d)(),L={key:"auth",storage:p.a,whitelist:["token"]},A=Object(f.a)({reducer:{contacts:E,auth:Object(g.a)(L,z)},middleware:Object(O.a)(T)}),F=Object(g.b)(A),_=n(59),H=n(10),I=n(24),P=n(25),B=n(42),G=n(41),D=n(7),J=[{label:"Home",path:"/",exact:!0,component:Object(i.lazy)((function(){return n.e(8).then(n.bind(null,118))})),privated:!1,restricted:!1},{label:"Register",path:"/register",exact:!0,component:Object(i.lazy)((function(){return n.e(5).then(n.bind(null,114))})),privated:!1,restricted:!0},{label:"Login",path:"/login",exact:!0,component:Object(i.lazy)((function(){return n.e(4).then(n.bind(null,115))})),privated:!1,restricted:!0},{label:"Contacts",path:"/contacts",exact:!0,component:Object(i.lazy)((function(){return Promise.all([n.e(7),n.e(3)]).then(n.bind(null,112))})),privated:!0,restricted:!1}],M=n(29),W=n(20),K=function(t){return Object(D.g)(Object(j.b)((function(t){return{isAuthorized:W.b.getToken(t)}}))((function(e){return Object(s.jsx)(t,Object(H.a)({},e))})))},Q=K((function(t){var e=t.component,n=t.isAuthorized,c=Object(M.a)(t,["component","isAuthorized"]);return Object(s.jsx)(D.b,Object(H.a)(Object(H.a)({},c),{},{render:function(t){return n&&c.restricted?Object(s.jsx)(D.a,{to:"/contacts"}):Object(s.jsx)(e,Object(H.a)({},t))}}))})),V=K((function(t){var e=t.component,n=t.isAuthorized,c=Object(M.a)(t,["component","isAuthorized"]);return Object(s.jsx)(D.b,Object(H.a)(Object(H.a)({},c),{},{render:function(t){return n?Object(s.jsx)(e,Object(H.a)({},t)):Object(s.jsx)(D.a,{to:"/login"})}}))})),X=n(43),Y=(n(94),K((function(t){var e=t.isAuthorized,n=Object(s.jsx)("li",{className:"navbar-item",children:Object(s.jsx)(d.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"nav-link--active",children:" Home "})}),c=e?Object(s.jsx)("li",{className:"navbar-item",children:Object(s.jsx)(d.c,{to:"/contacts",exact:!0,className:"nav-link",activeClassName:"nav-link--active",children:" Contacts "})}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{className:"navbar-item",children:Object(s.jsx)(d.c,{to:"/register",exact:!0,className:"nav-link",activeClassName:"nav-link--active",children:" Register "})}),Object(s.jsx)("li",{className:"navbar-item",children:Object(s.jsx)(d.c,{to:"/login",exact:!0,className:"nav-link",activeClassName:"nav-link--active",children:" Login "})})]});return Object(s.jsxs)("ul",{className:"navbar",children:[n,c]})}))),Z={onLogout:W.a.logout},$=Object(j.b)((function(t){return{name:W.b.getUserName(t)}}),Z)((function(t){var e=t.name,n=t.onLogout;return Object(s.jsx)(s.Fragment,{children:e&&Object(s.jsxs)("div",{className:"current-user",children:[Object(s.jsxs)("span",{className:"current-user__txt",children:["Welcome, ",e]}),Object(s.jsx)("button",{type:"button",className:"current-user__btn-logout",onClick:function(){return n()},children:"Logout"})]})})})),tt=n(30),et=(n(96),function(t){var e=t.children;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("header",{children:Object(s.jsx)(tt.a,{children:Object(s.jsxs)("div",{className:"header-container",children:[Object(s.jsx)(Y,{}),Object(s.jsx)($,{})]})})}),Object(s.jsx)("main",{children:e}),Object(s.jsx)("footer",{className:"footer",children:Object(s.jsx)(tt.a,{children:Object(s.jsx)("div",{className:"footer-content",children:Object(s.jsx)("p",{children:"Phonebook by Oleg Shablii"})})})})]})}),nt=n(22);function ct(){var t=Object(nt.a)(["\n    display: flex;\n    justify-content: center;\n"]);return ct=function(){return t},t}var rt=n(23).a.div(ct()),at=(n(97),function(t){return Object(s.jsx)(rt,{children:Object(s.jsxs)("div",{className:"lds-ripple",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})})}),ot=(n(98),function(t){Object(B.a)(c,t);var e=Object(G.a)(c);function c(){return Object(I.a)(this,c),e.apply(this,arguments)}return Object(P.a)(c,[{key:"componentDidMount",value:function(){this.props.getCurrentUser()}},{key:"render",value:function(){var t=J.map((function(t){return t.privated?Object(s.jsx)(V,Object(H.a)({},t),t.label):Object(s.jsx)(Q,Object(H.a)({},t),t.label)}));return Object(s.jsx)(et,{children:Object(s.jsx)(i.Suspense,{fallback:Object(s.jsx)(at,{}),children:Object(s.jsxs)(D.d,{children:[t,Object(s.jsx)(D.b,{component:Object(i.lazy)((function(){return n.e(6).then(n.bind(null,117))}))})]})})})}}]),c}(i.Component)),ut={getCurrentUser:W.a.getCurrentUser,onGetContacts:X.a.getContacts},st=Object(j.b)(null,ut)(ot),it=function(t){t&&t instanceof Function&&n.e(9).then(n.bind(null,111)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),r(t),a(t),o(t)}))};n(99);b.a.render(Object(s.jsx)(d.a,{children:Object(s.jsx)(j.a,{store:A,children:Object(s.jsx)(_.a,{loading:null,persistor:F,children:Object(s.jsx)(st,{})})})}),document.getElementById("root")),it()},13:function(t,e,n){"use strict";var c=n(24),r=n(25),a=n(15),o=n.n(a);o.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var u=function(){function t(){Object(c.a)(this,t)}return Object(r.a)(t,[{key:"register",value:function(t){return o.a.post("/users/signup",t)}},{key:"login",value:function(t){return o.a.post("/users/login",t)}},{key:"logout",value:function(t){return o.a.post("/users/logout",t)}},{key:"getCurrentUser",value:function(){return o.a.get("/users/current")}},{key:"setToken",value:function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)}},{key:"unsetToken",value:function(){o.a.defaults.headers.common.Authorization=""}},{key:"getContacts",value:function(){return o.a.get("/contacts")}},{key:"addContact",value:function(t){return o.a.post("/contacts",t)}},{key:"delContact",value:function(t){return o.a.delete("/contacts/".concat(t))}},{key:"updateContact",value:function(t){return o.a.patch("/contacts/".concat(t))}}]),t}();e.a=new u},20:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var c=n(5),r={getUserName:function(t){return t.auth.user.name},getToken:function(t){return t.auth.token},getError:function(t){return t.auth.error}},a=n(13),o={register:function(t){return function(e){e(c.a.registerRequest()),a.a.register(t).then((function(t){var n=t.data;a.a.setToken(n.token),e(c.a.registerSuccess(n))})).catch((function(t){return e(c.a.registerError(t))}))}},login:function(t){return function(e){e(c.a.loginRequest()),a.a.login(t).then((function(t){var n=t.data;a.a.setToken(n.token),e(c.a.loginSuccess(n))})).catch((function(t){return e(c.a.loginError(t))}))}},logout:function(t){return function(e){e(c.a.logoutRequest()),a.a.logout(t).then((function(t){var n=t.data;a.a.unsetToken(),e(c.a.logoutSuccess(n))})).catch((function(t){return e(c.a.logoutError(t))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(a.a.setToken(n),t(c.a.getCurrentUserRequest()),a.a.getCurrentUser().then((function(e){var n=e.data;t(c.a.getCurrentUserSuccess(n))})).catch((function(e){return t(c.a.getCurrentUserError(e))})))}}}},30:function(t,e,n){"use strict";var c=n(1),r=(n(0),n(22));function a(){var t=Object(r.a)(["\n    width: 1200px;\n    padding: 15px 15px;\n    margin: 0 auto;\n\n    @media sreen and (min-width: 450px){\n        width: 450px;\n    }\n\n    @media sreen and (min-width: 768px){\n        width: 768px;\n    }\n\n    @media sreen and (min-width: 1200px){\n        width: 1200px;\n    }\n"]);return a=function(){return t},t}var o=n(23).a.div(a()),u=function(t){var e=t.children;return Object(c.jsx)(o,{children:e})};e.a=u},43:function(t,e,n){"use strict";var c=n(6),r=n(13),a={addContact:function(t){return function(e){e(c.a.addContactRequest()),r.a.addContact(t).then((function(t){var n=t.data;e(c.a.addContactSuccess(n))})).catch((function(t){return e(c.a.addContactError(t))}))}},getContacts:function(){return function(t){t(c.a.getContactsRequest()),r.a.getContacts().then((function(e){var n=e.data;t(c.a.getContactsSuccess(n))})).catch((function(e){return t(c.a.getContactsError(e))}))}},delContact:function(t){return function(e){e(c.a.delContactRequest()),r.a.delContact(t).then((function(){e(c.a.delContactSuccess(t))})).catch((function(t){return e(c.a.delContactError(t))}))}}};e.a=a},5:function(t,e,n){"use strict";var c=n(2),r={registerRequest:Object(c.b)("auth/regRequest"),registerSuccess:Object(c.b)("auth/regSuccess"),registerError:Object(c.b)("auth/regError"),loginRequest:Object(c.b)("auth/loginRequest"),loginSuccess:Object(c.b)("auth/loginSuccess"),loginError:Object(c.b)("auth/loginError"),logoutRequest:Object(c.b)("auth/logoutRequest"),logoutSuccess:Object(c.b)("auth/logoutSuccess"),logoutError:Object(c.b)("auth/logoutError"),getCurrentUserRequest:Object(c.b)("auth/getUserRequest"),getCurrentUserSuccess:Object(c.b)("auth/getUserSuccess"),getCurrentUserError:Object(c.b)("auth/getUserError")};e.a=r},54:function(t,e,n){"use strict";var c={FILTER_CHANGE:"filter/change"},r=n(2),a={filterChange:Object(r.b)(c.FILTER_CHANGE)};e.a=a},6:function(t,e,n){"use strict";var c=n(2),r=Object(c.b)("record/addRequest"),a=Object(c.b)("record/addSuccess"),o=Object(c.b)("record/addError"),u=Object(c.b)("record/delRequest"),s=Object(c.b)("record/delSuccess"),i=Object(c.b)("record/delError"),l={addContactRequest:r,addContactSuccess:a,addContactError:o,getContactsRequest:Object(c.b)("record/getRequest"),getContactsSuccess:Object(c.b)("record/getSuccess"),getContactsError:Object(c.b)("record/getError"),delContactRequest:u,delContactSuccess:s,delContactError:i};e.a=l},94:function(t,e,n){},96:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){},99:function(t,e,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.09ace0bc.chunk.js.map